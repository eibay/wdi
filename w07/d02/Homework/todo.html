<DOCTYPE! html>
<head></head>
<body>
  
  <h2>Stuffz and What Not</h2>
	<input id="new_item" type="text" placeholder="New Task">
  
  <ul id="list"> </ul>
  
  <h4 id="counter"></h4>

<script type="text/javascript">
  var new_item = document.getElementById("new_item");
  // var ul = document.querySelector("ul");

  new_item.addEventListener("keypress", function(event) {
    if (event.keyCode == 13 && new_item.value != "") {
      var ul = document.querySelector("ul");

      var li = document.createElement("li");
      li.innerHTML = new_item.value + "<input type='checkbox' class='done' />";

      var list = document.getElementById("list");
      list.insertBefore(li, list.children[0]);

      ul.appendChild(li);
      listenToCheck(li.querySelector('input'));

      var counter = document.getElementById("counter");
      counter.innerText = ul.children.length + " tasks to do";
      new_item.value = "";
    }
  });

  function listenToCheck(checkbox) { 
    checkbox.addEventListener("click", function(event) {
      check = event.target;
      check.parentNode.setAttribute("style", "text-decoration:line-through;")
    });
  }
</script>
</body>