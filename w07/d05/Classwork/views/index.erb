<html>
<head>
	<title>Poster Pics</title>
</head>
<body>


<div>
	<input type = "text" name="movie_title" placeholder = "Type Movie Titile"> 
	<button> Look for Poster </button>
</div>

<h4 id = "title"></h4>
<h4 id = "poster"></h4>

	<pre>
	</pre>

<script type = "text/javascript">
	var pre = document.querySelector('pre');
	var button = document.querySelector('button');
	var input = document.querySelector('input');
	var title = document.getElementById("title");
	var poster = document.getElementById("poster")
	var img = document.createElement("img")



	function fetch(title){
		var xhr= new XMLHttpRequest ();
		xhr.addEventListener('load', function(){
			pre.innerText += xhr.response + '\n';
			var response = JSON.parse(xhr.response);
			title.innerText += response["Title"] + '\n';
			poster.innerText += response["Poster"]+ '\n';
			img.src.innerText += poster 
			pre.appendChild(img)
			
		});
		xhr.open('GET', 'http://127.0.0.1:4567/'+ encodeURIComponent(title));
		xhr.send()
	}

		button.addEventListener("click", function()
			{ 
				var movie_title = input.value;
				fetch(movie_title);
		})

</script>

</body>
</html>