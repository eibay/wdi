<html>
<head>
	<title>Instagram API</title>
</head>
<body style="text-align:center">
	<h1 style="color:#2FCCBF">Instagram API</h1>

	<input id="location" placeholder="Enter Location" style="margin-bottom:20px"></input>
	<button>Search</button>

	<div id="pictures" style="overflow:scroll; width:700px; height:500px; margin:0 auto;"></div>

<script type="text/javascript">
  
  var button = document.querySelector("button");
  var input = document.getElementById("location");
  
  button.addEventListener("click", getImage )
  input.addEventListener("keypress", function(feed){
    if (feed.keyIdentifier=='Enter'){
      getImage();
    };
  });

  var ul = document.querySelector('div');

  function getImage() {
    
    var location = document.getElementById("location").value;  
    var xhr = new XMLHttpRequest();
      
      xhr.addEventListener('load', function(){ 
        var jsonResponse = JSON.parse(xhr.response);
         
        for (var i =0; i < jsonResponse.length; i++){
          var img= document.createElement("img")
          img.src = jsonResponse[i]["url"]
          ul.appendChild(img);
         };
        
      });

      xhr.open('GET', '/' + encodeURIComponent(location))
      xhr.send()
      input.value = ""
    };

	</script>

</body>
</html>